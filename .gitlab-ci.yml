image: docker:stable

stages: 
  - publish

class_catalog_to_pages:
  image: node
  stage: publish
  only:
    changes:
      - sfs-class-catalog.md
  artifacts:
    when: always
    expire_in: 3 days
    paths:
      - converter/public

  script:
    - mkdir -p converter/public
    # convert class catalog to html
    - cp sfs-class-catalog.md converter/sfs-class-catalog.md
    - node converter/convert-catalog.js Class-Catalog